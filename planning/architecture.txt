Project Name: Floatly
Document Type: Functional Architecture & User Logic (Revision 2.0)
Target Market: Cameroon (Mobile Money Agents)
1. Product Overview
Floatly is a "digital logbook" for mobile money agents. It replaces paper notebooks to track transactions, cash, and digital float.
Key Evolutions in this Version:
Auto-Profit Engine: The app automatically calculates commissions based on official Telco rate sheets, so agents don't have to guess profits.
Fluid Roles: A user is not strictly a "Boss" or "Agent." They are a "User" who can own Kiosks (acting as Boss) and work in Kiosks (acting as Agent) simultaneously.
Notification Center: A dedicated inbox for alerts, invites, and fraud warnings.

2. Core Business Logic
A. The "Float" Balancing Equation
The system tracks balances in real-time:
Deposit (Cash In): Physical Cash ↑ | Digital Float ↓
Withdrawal (Cash Out): Physical Cash ↓ | Digital Float ↑
B. The Automated Profit Engine
Instead of the user typing the fee/profit manually, the system calculates it.
The Logic: The system stores a "Rate Sheet" for each Network (MTN, Orange, etc.).
Example Rule: "For transactions between 5,000 - 10,000 CFA, Commission = 100 CFA."
Example Rule: "For transactions > 50,000 CFA, Commission = 1%."
The Workflow:
User enters Amount (e.g., 6,000 CFA).
System looks up the Rate Sheet.
System pre-fills the "Profit" field with "100 CFA."
Override: The user can edit this field manually if the specific transaction had a custom fee.

3. System Components
A. The Kiosk (The Container)
A Kiosk is the central unit of organization.
It holds Transactions.
It has one Owner (Creator).
It has multiple Members (Staff).
It has its own separate balances (Cash/Float).
B. The User (The Actor)
A single User account can wear multiple hats:
As Owner: They created "Kiosk A." They have full admin rights over it.
As Member: They were invited to "Kiosk B" by someone else. They have limited rights there.
Result: One login, access to multiple workspaces.
C. The Notification Center
A persistent "Inbox" inside the app that stores:
Invites: "John invited you to join Kiosk Akwa."
Alerts: "Fraud Alert: Number 677... reported nearby."
System Messages: "Your daily summary is ready."
Behavior: Users can click a notification to view the full details or take action (e.g., Accept Invite).

4. User Journeys
Journey A: Sign Up & Invitation Flow
Scenario: Boss wants to hire a new employee, Sarah.
Boss Action: Boss goes to Kiosk Settings -> "Add Member" -> Enters sarah@email.com.
System Check:
If Sarah exists: She gets a notification instantly in her app.
If Sarah does not exist: System sends an email: "You have been invited to Floatly. Click here to Sign Up and join Kiosk Akwa."
Sarah's Action: She clicks the link, creates a password, and lands directly in the Dashboard with access to "Kiosk Akwa."
Journey B: Transaction with Auto-Profit
User Action: Clicks "Add Transaction."
Input: Selects Network (MTN) -> Enters Amount (10,000).
System Action: Instantly calculates Profit based on the MTN Rate Sheet. Displays "Profit: 150 CFA."
User Review: User sees the calculated profit.
Option A: Keeps it.
Option B: Edits it (e.g., changes to 100 CFA because they gave a discount).
Save: User saves. Balances update.
Journey C: Managing Multiple Kiosks
User Action: Opens the main menu.
View: Sees a "Kiosk Switcher" list.
My Kiosks: "Molyko Shop" (Owner).
Shared Kiosks: "Yaoundé Branch" (Member).
Switching: Clicking "Yaoundé Branch" changes the entire dashboard context. The Cash/Float balances now reflect that specific shop.

5. Information We Store (Data Concepts)
The Rate Sheet (Reference Data):
Network Name (MTN, Orange).
Ranges (Min Amount, Max Amount).
Commission Value (Fixed Amount or Percentage).
Note: This is managed by the System Admin, but updated regularly.
The User:
Email, Password, Name.
Notification History: List of unread/read alerts.
The Kiosk:
Name, Location.
Members List: List of Users + Their Role (Admin/Staff) in this specific Kiosk.
The Transaction:
Linked to One Kiosk.
Linked to One User (who performed it).
Amount, Network, Type.
Calculated Profit: The commission earned.

6. Key Magic Features
Smart Profit Defaults: The app knows the math better than the agent. It pre-fills the profit field to save time and reduce errors.
Universal Identity: A user needs only one email address to run their own business AND work for someone else simultaneously.
Context Switching: The interface clearly changes when switching between Kiosks so the user knows exactly which "Cash Drawer" they are touching.
Actionable Notifications: Notifications are not just text; they are links. Clicking an "Invite" notification opens the acceptance screen. Clicking a "Fraud" notification opens the blacklist details.


TECHNOLOGY CHOICES
What We Must Use:
•	Backend Framework: Django (Python web framework)
•	Database: Standard SQL (SQLite is fine)
•	Design System: TailwindCSS (for beautiful mobile-first design)
•	Interactivity: AlpineJS (for smooth interactions)
•	Dynamic Updates: HTMX (for fast updates without page refreshes)
What the AI Can Choose:
•	Any additional Django packages that make development faster
•	Any JavaScript libraries that improve user experience
•	Any tools that make forms, notifications, or offline features work better
•	Whatever makes the code cleaner and easier to maintain
Critical Requirements:
•	Must work perfectly when internet is disconnected (offline-first)
•	Must send notifications through: the app itself, browser push notifications, and email
•	Must look and work beautifully on small phone screens
